<!DOCTYPE html>
<html>
  <meta charset="UTF-8"  name="viewport" content="width=device-width, initial-scale=1">

  <head>
    <title id="title_change">
    
  
    </title>
    
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="stylesheet" type="text/css" href="print.css" media="print"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  </head>
  <form id="form" onsubmit="saveAlert(); return false">
  <body id="el-to-print">
    
    <div class="div1">
      <div class="headerDiv">
      <img src="img/cold_logo.jpg" alt="Cold4you Logo" class="pic"/>
      <h3>Cold4you Gewerbekälte GmbH</h3>
      <p style="font-size: large">Wiener strasse 25, 2100 Korneuburg</p>
      <p style="font-size: large">Tel: 02262 / 235 25 </p>
      <p style="font-size: large">Email: office@cold4you.at </p>
      <p style="font-size: large">www.cold4you.at </p>
      </div>
      </div>

      <h1 class="heading">Wartungs Protokoll für Kälteanlage</h1>
      
     <div class="flexContainer">
     
      <div class="address">
   
      <table class="table">   
        <tr class="addressBox">
        <th class="addressBox">Auftraggeber:</th>
        <th><input  type="text" id="kunde" value="" onchnage="myfunction()" size="40" name="" /></th>
        
        </tr>
        <tr class="addressBox">
          <th class="text_area">Standort:</th>
          <th><textarea class="tableBg2" id="standort" name="address" cols=41 rows=5 ></textarea></th>
        </tr>
       
       
       
        <tr class="addressBox">
          <th class="addressBox">Anlagebeschreibung:</th>
          <th><input type="text" id="Anlage" value="" size="40" onchange="myFunction()" /></th>
        </tr>
    
      <tr class="addressBox">
        <th class="addressBox">Type:</th>
        <th> <input  class="tableBg" type="text" size="40" /></th>
      </tr>
      <tr class="addressBox">
        <th class="addressBox">Kältemittel:</th>
        <th> <input class="tableBg" type="text" size="40" value="R" /></th>
      </tr>
      <tr class="addressBox">
        <th class="addressBox">Aufstellungsort:</th>
        <th> <input class="tableBg" type="text" size="40" /></th>
      </tr>
      </table>
      </div>

</div>
     <div class="flexInner">

  
  <div class="divSize1">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Ölstand</label>
  <br>
  <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
</div>

  <div class="divSize1">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Säuretest</label>
  <br>
  <input type="text" class="inputBasic" placeholder="Bemerkungen"  size="30" maxlength="37"/>
  </div>
  
  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Kürbelwannenheizung</label>
  <label><input type="checkbox" class="boxSize" />Nicht vorhanden</label>
  <br>
  <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Kältemittelfüllstand</label>
  <br>
  <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>
  
  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Hd/Nd Pressostat EIN/AUS</label>
  <br>
  <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Kontrolle Verdichter Laufgeräusche</label>
    <br>
    <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Überprüfung aller mechanischen und elektrischen Regelorgane</label>
  <br>
  <input type="text"  class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Sichtkontrolle aller elektrischen und kältetechnischen Anlagenteilen</label>
  <br>
  <input type="text"  class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label> <input type="checkbox" class="boxSize"  /> Überprüfung alle KD-Ventilatoren</label>
  <br>
  <input type="text" class="inputBasic"  placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Drehzahlregler KD-Ventilatoren</label>
  <br>
  <input type="text"  class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Kabelbefestigung</label> 
  <br>
  <input type="text"  class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" /> Überprüfung aller elektrischen Regelorgane (Schütz, Relais, Schützschalter etc)</label>
  <br>
  <input type="text"  class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
  </div>



  <br>
  <br>
  <br>



  
  <div class="divSize">
    <label><input type="checkbox" class="boxSize"/>
    Überprüfung / Messung der Überhitzung</label>
    <label class="boxAlign">K</label>
    <input type="number" step="0.1" class="boxAlign"/>
    <input type="text" placeholder="Bemerkungen" class="inputMargin"  size="30" maxlength="37"/>
    </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Überprüfung / Messung der Sauggastemperatur</label>
    <label class="boxAlign">&#8451;</label>
    <input type="number" step="0.1" class="boxAlign" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
   </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Überprüfung / Messung des Saugdrucks</label>
    <label class="boxAlign">bar</label>
    <input type="number" step="0.1" class="boxAlign" size="2" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
 </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Überprüfung / Messung des Hochdrucks</label>
    <label class="boxAlign">bar</label>
    <input type="number" step="0.1" class="boxAlign"  />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
  </div>
  
  <div class="divSize">
    <label> <input type="checkbox" class="boxSize" />
    Überprüfung / Messung der Verdampfungstemperatur</label>
    <label class="boxAlign">&#8451;</label>
    <input type="number" step="0.1" class="boxAlign"  />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
  </div>
  
  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Überprüfung / Messung der Flüssigkeitstemperatur</label>
    <label class="boxAlign">&#8451;</label>
    <input type="number" step="0.1"  class="boxAlign"  />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
  </div>
  
</div>
<div class="flexInner">
  <div class="divSize">
    <label> <input type="checkbox" class="boxSize" />
    Überprüfung / Messung der Druckgastemperatur</label>
    <label class="boxAlign">&#8451;</label>
    <input type="number" step="0.1"  class="boxAlign" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/> 
    </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Überprüfung / Messung der Unterkühlung</label>
    <label class="boxAlign">K</label>
    <input type="number"  step="0.1" class="boxAlign" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
     </div>
 
  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Messung Anlaufstrom</label>
    <br>
    <label class="boxAlign">A</label>
    <input type="number" step="0.1"  class="boxAlign"  />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
    </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize"/>
    Messung Anlaufstrom</label>
    <br>
    <label class="boxAlign">A</label>
    <input type="number" step="0.1"  class="boxAlign"/>
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
    </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize"/>
    Messung Anlaufstrom</label>
    <br>
    <label class="boxAlign">A</label>
    <input type="number" step="0.1"  class="boxAlign" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
   </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize" />
    Messung Betriebsstrom</label>
    <br>
    <label class="boxAlign">A</label>
    <input type="number" step="0.1"  class="boxAlign"  />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
   </div>

  <div class="divSize">
    <label><input type="checkbox" class="boxSize"/>
    Messung Betriebsstrom</label>
    <br>
    <label class="boxAlign">A</label>
    <input type="number" step="0.1" class="boxAlign" />
    <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
    </div>



  <div class="divSize">
    <label><input type="checkbox" class="boxSize"/>
   Messung Betriebsstrom</label>
   <br>
   <label class="boxAlign">A</label>
   <input type="number" step="0.1"  class="boxAlign" />
   <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
  </div>

    <div class="divSize">
      <label><input type="checkbox" class="boxSize"/>
      Messung Frostschutz </label>
      <br>
      <label class="boxAlign">&#8451;</label>
      <input type="number" step="0.1"  class="boxAlign" size="2"/>
      <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
    </div>

     <div class="divSize">
      <label><input type="checkbox" class="boxSize" />
      Überprüfung der Steuerspannung</label>
      <br>
      <label class="boxAlign">V</label>
      <input type="number"  step="0.1" class="boxAlign" size="2" />
      <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/>
     </div>

      <div class="divSize">
        <label><input type="checkbox" class="boxSize" /> Kondensator und Ventilator Reinigung</label>
        <br>
        <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
      </div>

      <div class="divSize">
        <label><input type="checkbox" class="boxSize" /> Dichtheitskontrolle</label>
        <br>
        <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
      </div>

      <div class="divSize">
        <label><input type="checkbox" class="boxSize"/> Überprüfung der Maschinenraumlüftung nach §13</label>
        <br>
        <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
      </div>

      <div class="divSize">
        <label><input type="checkbox" class="boxSize"/> Kältemittelgassensor</label>
        <br>
        <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
      </div>

      <div class="divSize">
       <label><input type="checkbox" class="boxSize"/>
        Wasserkreislauf: Eintrittstemperatur Verflüssiger</label>
        <label class="boxAlign">&#8451;</label>
        <input type="number" step="0.1"  class="boxAlign" />
        <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/> 
        </div>


        <div class="divSize">
          <label><input type="checkbox" class="boxSize"/>
          Wasserkreislauf: Austrittstemperatur Verflüssiger</label>
          <label class="boxAlign">&#8451;</label>
          <input type="number"  step="0.1" class="boxAlign"/>
          <input type="text" placeholder="Bemerkungen" class="inputMargin" size="30" maxlength="37"/> 
          </div>

          
        
          <div class="divSize">
            <label><input type="checkbox" class="boxSize" />
            Reinigung des Schmutzfängers (Wasserkreislauf)</label>
            <br>
            <input type="text" class="inputBasic" placeholder="Bemerkungen" size="30" maxlength="37"/>
          </div>

          <div class="divSize">
            <label ><input type="checkbox" class="boxSize" /> Prüfbücher abgestempelt</label>
            <label><input type="checkbox" class="boxSize" /> Nicht vorhanden</label>
            <br>
            <input type="text" class="inputBasic" placeholder="Bemerkungen"  size="30" maxlength="37"/>
          </div>
          
          
         
            <div class="divSize3">
            <label>Anmerkungen</label>
            <br>
            <textarea   class="inputBasicArea" name="Text1" cols="47" rows="8"></textarea>
             </div>

          </div>

          <div class="flexContainer">
            
         <div class="div3">
           <label class="addressBox">Datum:</label>
           <input type="date" id="date1" value="" onchange="myFunction()" >

          </div>
          
        <div class="div3">
          <label>Techniker:</label>
          <input type="text" id="techniker" size="20" >
          </div>
       
 
       
      
      <div class="div3">
        <label>Unterschrift:</label>
    
      <div class="flex-row">
        <div class="wrapper">
          <canvas id="signature-pad" width="800" height="300" class="zoom"></canvas>
        </div>
        <div >
          <button class="seeThrough" type="button" id="clear"><span>Löschen </span></button>
        
     
        
          <button type="submit" class="seeThrough"  id="print" >Speichern PDF</button>
       
        </div>
      </div>
      </div>
     
      </div>
      </form>

    </body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.3.5/signature_pad.min.js" integrity="sha512-kw/nRM/BMR2XGArXnOoxKOO5VBHLdITAW00aG8qK4zBzcLVZ4nzg7/oYCaoiwc8U9zrnsO9UHqpyljJ8+iqYiQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  var canvas = document.getElementById("signature-pad");
  
  /*   function resizeCanvas() {
    var ratio = Math.max(window.devicePixelRatio || 1, 1);
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = canvas.offsetHeight * ratio;
    canvas.getContext("2d").scale(ratio, ratio);
  } */
  /*window.onresize = resizeCanvas;
  resizeCanvas();*/
  
  var signaturePad = new SignaturePad(canvas, {
    backgroundColor: 'rgb(250,250,250)'
    
  });
  
  document.getElementById("clear").addEventListener('click', function(){
    signaturePad.clear();
  })


  function clearButton(){
    document.getElementById(print).class="printClear";
  }

  const form = document.getElementById("form");
  const kunde = document.getElementById("kunde");
  const Anlage = document.getElementById("standort");
  const techniker = document.getElementById("techniker");

  const kundeValue_storage = localStorage.getItem("kunde");
  const standortValue_storage = localStorage.getItem("standort");
  const technikerValue_storage = localStorage.getItem("techniker");

  document.getElementById("kunde").value = kundeValue_storage;
  document.getElementById("standort").value = standortValue_storage;
  document.getElementById("techniker").value = technikerValue_storage;

  

function myFunction() {
var title = document.getElementById("Anlage").value;
var standort = document.getElementById("kunde").value;
var datum = document.getElementById("date1").value;



  document.getElementById("title_change").innerHTML = standort + " " + title + " " + datum;
}

function saveAlert(){

  const kundeValue = kunde.value;
  const standortValue = Anlage.value;
  const technikerValue = techniker.value;

  localStorage.setItem("kunde", kundeValue);
  localStorage.setItem("standort", standortValue);
  localStorage.setItem("techniker", technikerValue);

  
  
  if (confirm("PDF speichern?")){
    if (signaturePad.isEmpty()) {
      alert("Bitte unterschreiben");
     
    } else {
      savePDF();
    }
  }
  
  else{
    alert("PDF nicht gespeichert");
  }
}



function savePDF() {
 

var element = document.getElementById('el-to-print');
document.getElementById("print").style.opacity = "0";
document.getElementById("clear").style.opacity = "0";
html2pdf().set(opt).from(element).save(document.getElementById("title_change").innerHTML);


}
var opt = {
  margin:       1,
  filename:     myFunction(),
  image:        { type: 'jpeg', quality: 0.98 },
  html2canvas:  { scale: 1 },
  jsPDF:        { unit: 'in', format: 'a1', orientation: 'portrait' },
  
};


  
  </script>



</html>
